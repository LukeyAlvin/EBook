从功能上来讲，就是在RGB普通摄像头的功能上添加了一个深度测量，从实现这个功能的技术层面去分析，那么有以下几种主流方案：**双目，结构光，TOF**三种主要技术。

## RGB双目的测距

RGB双目的测距方式是被动式测距，其工双目匹配，三角测量，RGB双目受基线限制，中距；

其**分辨率中高**，精度：双目是 $0.01mm--1mm$；显示的画面帧率较低，约在几十HZ；

**抗光照强**，功耗方面还是相对比较低的，因为是纯软件；

软件比较复杂，硬件成本较低，**对户外具有良好的适用性**，基本不影响使用效果，

**黑暗环境不可以工作**，成本加高，位于千元量级；

方案优势：双目成本低，功耗低，分辨率高，帧率高。

## 结构光的测距

为解决双目匹配问题而生，解决对环境光照敏感问题，解决依赖图片纹理问题，提高匹配鲁棒性

**特点**：不依赖光照和纹理、夜里可用、主动投影已知图案

结构光的测距方式主动式测距，其工作原理是激光散斑编码，测量的距离 $0.1--10m$，

其分辨率居中，精度是 $um--cm$，画面频率 $<100Hz$，抗光强弱，功耗方面中等，

需要投射图案，只照射部分功耗；软件设计方面难度居中，硬件成本居中，

户外使用的话，对其效果有影响，室外需用用功率大，成本高的配置，

黑暗环境中可以工作；成本方面取决于精度，精度越高，成本越高（$1mm$ 精度千元量级，$0.1mm$ 万元量级，$0.01mm$ 几十万量级）

方案优势：**结构光不受光照和纹理影响。**

- Kinect v1、Iphone X

## TOF的测距

TOF的测距方式是主动式测距，其测距原理是连续发射光脉冲(─般为不可见光）到被观测物体上，然后接收从物体反射回去的光脉冲，通过探测光脉冲的飞行（往返）时间来计算被测物体离相机的距离，能测得距离在 $0.1--100m$。

其分辨率偏低，一般是 $QVGA$ 或者 $VGA$ 的分辨率，精度：$ mm--cm$ ，其画面帧率较高，可

以达到 $36MHz$ 或者更高；

能抵抗一定的光强，**功耗较高**，需要全部照射；

软件相对结构光和双目比较简单，硬件成本高，户外使用影响较小，

但是对于低功率配置来讲，影响较大，黑暗环境中可以正常工作，成本方面TOF根据测定范围帧率不同，几千到几百万；

**Kinect v2、Phab 2 Pro**

优势：

- 可以通过调节发射脉冲的频率改变测量距离
- 测量精度不会随着测量距离的增大而降低
- 抗干扰能力较强
- 适合测量距离要求比较远的场合（如无人驾驶、 AR）

缺点：

- 功耗大
- 分辨率比较低
-  深度图质量差  

---

RGBD数据集的获取：TUM

- 提供多种环境下视频数据
- 标定参数、groundtruth、工o具
-  https://vision.in.tum.deldataldatasets/rgbd-dataset/download

对于深度图，每个像素点的值为 $(x,y,value)$，其中 $(x,y)$ 代表像素坐标，后面的 $value$ 则代表像素值；这里查看深度图的工具为 `ImageJ` 可以 通过移动光标的位置来获取  $(x,y,value)$；

那么实际深度如何计算？
$$
物理距离 = \frac{像素值}{尺度因子}
$$
比如对于像素值为 `6000` 的像素点，尺度因子为 5000 时，它的物理距离为：1.2m =6000/5000





